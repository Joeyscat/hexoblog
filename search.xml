<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Linuxä¸‹ä½¿ç”¨scpå‘½ä»¤æ¥é€šè¿‡sshä¼ è¾“æ–‡ä»¶</title>
      <link href="/2019/06/30/linux-copy-files-with-scp/"/>
      <url>/2019/06/30/linux-copy-files-with-scp/</url>
      
        <content type="html"><![CDATA[<h3 id="Linuxä¸‹ä½¿ç”¨scpå‘½ä»¤æ¥é€šè¿‡sshä¼ è¾“æ–‡ä»¶"><a href="#Linuxä¸‹ä½¿ç”¨scpå‘½ä»¤æ¥é€šè¿‡sshä¼ è¾“æ–‡ä»¶" class="headerlink" title="Linuxä¸‹ä½¿ç”¨scpå‘½ä»¤æ¥é€šè¿‡sshä¼ è¾“æ–‡ä»¶"></a>Linuxä¸‹ä½¿ç”¨scpå‘½ä»¤æ¥é€šè¿‡sshä¼ è¾“æ–‡ä»¶</h3><h4 id="ä»æœåŠ¡å™¨ä¸Šä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°"><a href="#ä»æœåŠ¡å™¨ä¸Šä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°" class="headerlink" title="ä»æœåŠ¡å™¨ä¸Šä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°"></a>ä»æœåŠ¡å™¨ä¸Šä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°</h4><h6 id="ä¾‹å¦‚å°†æœåŠ¡å™¨ä¸Šçš„logoæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°"><a href="#ä¾‹å¦‚å°†æœåŠ¡å™¨ä¸Šçš„logoæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°" class="headerlink" title="ä¾‹å¦‚å°†æœåŠ¡å™¨ä¸Šçš„logoæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°"></a>ä¾‹å¦‚å°†æœåŠ¡å™¨ä¸Šçš„logoæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°</h6><pre class=" language-bash"><code class="language-bash">$ <span class="token function">scp</span> username@servername:/home/logo.png /home/joey/download</code></pre><h4 id="ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨"><a href="#ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨" class="headerlink" title="ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨"></a>ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨</h4><h5 id="å°†æœ¬åœ°readmeæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨-homeç›®å½•"><a href="#å°†æœ¬åœ°readmeæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨-homeç›®å½•" class="headerlink" title="å°†æœ¬åœ°readmeæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨/homeç›®å½•"></a>å°†æœ¬åœ°readmeæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨/homeç›®å½•</h5><pre class=" language-bash"><code class="language-bash">$ <span class="token function">scp</span> /home/joey/readme.txt username@servername:/home/</code></pre><h4 id="ä»æœåŠ¡å™¨ä¸Šä¸‹è½½æ•´ä¸ªç›®å½•"><a href="#ä»æœåŠ¡å™¨ä¸Šä¸‹è½½æ•´ä¸ªç›®å½•" class="headerlink" title="ä»æœåŠ¡å™¨ä¸Šä¸‹è½½æ•´ä¸ªç›®å½•"></a>ä»æœåŠ¡å™¨ä¸Šä¸‹è½½æ•´ä¸ªç›®å½•</h4><h5 id="ä¾‹å¦‚ä»æœåŠ¡å™¨ä¸‹è½½logç›®å½•ï¼ˆåŒ…å«æ‰€æœ‰å­æ–‡ä»¶ï¼‰"><a href="#ä¾‹å¦‚ä»æœåŠ¡å™¨ä¸‹è½½logç›®å½•ï¼ˆåŒ…å«æ‰€æœ‰å­æ–‡ä»¶ï¼‰" class="headerlink" title="ä¾‹å¦‚ä»æœåŠ¡å™¨ä¸‹è½½logç›®å½•ï¼ˆåŒ…å«æ‰€æœ‰å­æ–‡ä»¶ï¼‰"></a>ä¾‹å¦‚ä»æœåŠ¡å™¨ä¸‹è½½logç›®å½•ï¼ˆåŒ…å«æ‰€æœ‰å­æ–‡ä»¶ï¼‰</h5><pre class=" language-bash"><code class="language-bash">$ <span class="token function">scp</span> -r username@servername:/home/log/ /home/joey/download</code></pre><h4 id="ä¸Šä¼ ç›®å½•åˆ°æœåŠ¡å™¨"><a href="#ä¸Šä¼ ç›®å½•åˆ°æœåŠ¡å™¨" class="headerlink" title="ä¸Šä¼ ç›®å½•åˆ°æœåŠ¡å™¨"></a>ä¸Šä¼ ç›®å½•åˆ°æœåŠ¡å™¨</h4><h5 id="ä¾‹å¦‚å°†æœ¬åœ°imgç›®å½•ä¸Šä¼ åˆ°æœåŠ¡å™¨-homeç›®å½•"><a href="#ä¾‹å¦‚å°†æœ¬åœ°imgç›®å½•ä¸Šä¼ åˆ°æœåŠ¡å™¨-homeç›®å½•" class="headerlink" title="ä¾‹å¦‚å°†æœ¬åœ°imgç›®å½•ä¸Šä¼ åˆ°æœåŠ¡å™¨/homeç›®å½•"></a>ä¾‹å¦‚å°†æœ¬åœ°imgç›®å½•ä¸Šä¼ åˆ°æœåŠ¡å™¨/homeç›®å½•</h5><pre class=" language-bash"><code class="language-bash">$ <span class="token function">scp</span> -r /home/joey/img/ username@servername:/home/</code></pre><blockquote><p>â€”â€”username:æœåŠ¡å™¨ç”¨æˆ·åï¼ˆéœ€è¦ç›¸åº”å¯†ç ï¼‰<br>â€”â€”servernameï¼šæœåŠ¡å™¨åœ°å€ï¼ˆIPï¼‰</p></blockquote><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¨èè§†é¢‘</title>
      <link href="/2019/06/29/videos/"/>
      <url>/2019/06/29/videos/</url>
      
        <content type="html"><![CDATA[<h5 id="Hithere"><a href="#Hithere" class="headerlink" title="Hithere"></a>Hithere</h5><h6 id="åœ¨ç¾å›½ç›‘ç‹±é‡Œï¼Œå¨ˆç«¥çŠ¯çœŸçš„ä¼šè¢«è½®æµçˆ†èŠå˜›ï¼ŸAre-Chinese-people-isolated-in-the-world"><a href="#åœ¨ç¾å›½ç›‘ç‹±é‡Œï¼Œå¨ˆç«¥çŠ¯çœŸçš„ä¼šè¢«è½®æµçˆ†èŠå˜›ï¼ŸAre-Chinese-people-isolated-in-the-world" class="headerlink" title="åœ¨ç¾å›½ç›‘ç‹±é‡Œï¼Œå¨ˆç«¥çŠ¯çœŸçš„ä¼šè¢«è½®æµçˆ†èŠå˜›ï¼ŸAre Chinese people isolated in the world?"></a>åœ¨ç¾å›½ç›‘ç‹±é‡Œï¼Œå¨ˆç«¥çŠ¯çœŸçš„ä¼šè¢«è½®æµçˆ†èŠå˜›ï¼ŸAre Chinese people isolated in the world?</h6><!-- <div align="center"> --><iframe width="560" height="315" src="https://www.youtube.com/embed/pSs8nBJKgjw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><!-- </div> --><h5 id="Nathan-Rich"><a href="#Nathan-Rich" class="headerlink" title="Nathan Rich"></a>Nathan Rich</h5><h6 id="Chinaâ€™s-Saddest-Clown"><a href="#Chinaâ€™s-Saddest-Clown" class="headerlink" title="Chinaâ€™s Saddest Clown"></a>Chinaâ€™s Saddest Clown</h6><!-- <div align="center"> --><iframe width="560" height="315" src="https://www.youtube.com/embed/WVEV9kD_r1Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><!-- </div> --><h6 id="A-Coffee-with-Huaweiâ€™s-CEO"><a href="#A-Coffee-with-Huaweiâ€™s-CEO" class="headerlink" title="A Coffee with Huaweiâ€™s CEO"></a>A Coffee with Huaweiâ€™s CEO</h6><!-- <div align="center"> --><iframe width="560" height="315" src="https://www.youtube.com/embed/ICU_g4jXpas" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><!-- </div> --><h6 id="âŒ-Hong-Kong-Riots"><a href="#âŒ-Hong-Kong-Riots" class="headerlink" title="âŒ Hong Kong Riots"></a>âŒ Hong Kong Riots</h6><!-- <div align="center"> --><iframe width="560" height="315" src="https://www.youtube.com/embed/JTHG1lRuYSU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><!-- </div> --><h6 id="Hotpot-News-June-20-2019"><a href="#Hotpot-News-June-20-2019" class="headerlink" title="Hotpot News June 20, 2019"></a>Hotpot News June 20, 2019</h6><!-- <div align="center"> --><iframe width="560" height="315" src="https://www.youtube.com/embed/WEl01k4XmDA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><!-- </div> --><h6 id="âŒ-The-REAL-Reason-Facebook-is-banned-in-China"><a href="#âŒ-The-REAL-Reason-Facebook-is-banned-in-China" class="headerlink" title="âŒ The REAL Reason Facebook is banned in China!"></a>âŒ The REAL Reason Facebook is banned in China!</h6><!-- <div align="center"> --><iframe width="560" height="315" src="https://www.youtube.com/embed/f2srfDwM2sQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><!-- </div> --><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> è§†é¢‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Video </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redisæ•°æ®ç±»å‹ä¹‹å­—ç¬¦ä¸²ç±»å‹</title>
      <link href="/2019/06/28/redis-data-type-redis-string/"/>
      <url>/2019/06/28/redis-data-type-redis-string/</url>
      
        <content type="html"><![CDATA[<h2 id="Redisæ•°æ®ç±»å‹ä¹‹å­—ç¬¦ä¸²ç±»å‹"><a href="#Redisæ•°æ®ç±»å‹ä¹‹å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="Redisæ•°æ®ç±»å‹ä¹‹å­—ç¬¦ä¸²ç±»å‹"></a>Redisæ•°æ®ç±»å‹ä¹‹å­—ç¬¦ä¸²ç±»å‹</h2><h3 id="å­—ç¬¦ä¸²ç±»å‹"><a href="#å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="å­—ç¬¦ä¸²ç±»å‹"></a>å­—ç¬¦ä¸²ç±»å‹</h3><h4 id="ä»‹ç»ï¼š"><a href="#ä»‹ç»ï¼š" class="headerlink" title="ä»‹ç»ï¼š"></a>ä»‹ç»ï¼š</h4><p>Redis Stringç±»å‹æ˜¯å¯ä»¥ä¸Redisé”®å…³è”çš„æœ€ç®€å•çš„å€¼ç±»å‹ã€‚: )</p><h4 id="å¸¸ç”¨å‘½ä»¤ï¼š"><a href="#å¸¸ç”¨å‘½ä»¤ï¼š" class="headerlink" title="å¸¸ç”¨å‘½ä»¤ï¼š"></a>å¸¸ç”¨å‘½ä»¤ï¼š</h4><h5 id="SET-key-value-èµ‹å€¼"><a href="#SET-key-value-èµ‹å€¼" class="headerlink" title="SET key value (èµ‹å€¼)"></a>SET key value (èµ‹å€¼)</h5><p>ä»¥é”®å<code>key</code>ä¿å­˜ä¸€ä¸ªå­—ç¬¦ä¸²<code>value</code>ã€‚å½“<code>key</code>å·²ç»å­˜åœ¨å¯¹åº”çš„å€¼æ—¶ä¼šè¢«è¦†ç›–ï¼Œæ— è®ºå®ƒåŸæœ¬ä¿å­˜çš„æ˜¯ä»€ä¹ˆç±»å‹çš„æ•°æ®ã€‚<a href="https://redis.io/commands/set" target="_blank" rel="noopener">ã€æ–‡æ¡£ã€‘</a></p><h5 id="GET-key-å–å€¼"><a href="#GET-key-å–å€¼" class="headerlink" title="GET key (å–å€¼)"></a>GET key (å–å€¼)</h5><p>è·å–é”®å<code>key</code>å¯¹åº”çš„å€¼ã€‚å¦‚æœå¦‚æœè¯¥é”®ä¸å­˜åœ¨åˆ™è¿”å›<code>nil</code>ã€‚å½“<code>key</code>ä¸­å­˜å‚¨çš„æ•°æ®ä¸æ˜¯<code>string</code>ç±»å‹æ—¶ä¼šè¿”å›é”™è¯¯ï¼Œå› ä¸ºGETæŒ‡ä»¤åªå¤„ç†stringç±»å‹çš„å€¼<a href="https://redis.io/commands/get" target="_blank" rel="noopener">ã€æ–‡æ¡£ã€‘</a></p><h6 id="ç¤ºä¾‹ï¼š"><a href="#ç¤ºä¾‹ï¼š" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h6><pre class=" language-bash"><code class="language-bash">redis<span class="token operator">></span> HSET hset1 name Joey <span class="token comment" spellcheck="true"># å­˜å…¥ä¸€ä¸ªæ•£åˆ—ç±»å‹çš„é”®å€¼</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1redis<span class="token operator">></span> TYPE hset1<span class="token function">hash</span>redis<span class="token operator">></span> GET hset1 <span class="token comment" spellcheck="true"># GET å‘½ä»¤ä¸èƒ½ç”¨æ¥è·å–å­—ç¬¦ä¸²ç±»å‹ä»¥å¤–çš„value</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> WRONGTYPE Operation against a key holding the wrong kind of valueredis<span class="token operator">></span> SET hset1 str <span class="token comment" spellcheck="true"># SET å‘½ä»¤ä½¿ç”¨ç›¸åŒçš„é”®å­˜å…¥å­—ç¬¦ä¸²ï¼Œè¦†ç›–äº†åŸæ¥çš„æ•£åˆ—ç±»å‹æ•°æ®</span>OKredis<span class="token operator">></span> GET hset1 <span class="token comment" spellcheck="true"># GET è·å–å­—ç¬¦ä¸²ç±»å‹æ•°æ®</span><span class="token string">"str"</span>redis<span class="token operator">></span> TYPE hset1string</code></pre><h5 id="INCR-key-é€’å¢æ•°å­—"><a href="#INCR-key-é€’å¢æ•°å­—" class="headerlink" title="INCR key (é€’å¢æ•°å­—)"></a>INCR key (é€’å¢æ•°å­—)</h5><p>å°†<code>key</code>å­˜å‚¨çš„æ•°å­—+1å¹¶è¿”å›ã€‚å¦‚æœ<code>key</code>åŒ…å«é”™è¯¯ç±»å‹ï¼ˆ<code>string</code>ä»¥å¤–çš„ç±»å‹ï¼‰çš„<code>value</code>æˆ–åŒ…å«ä¸èƒ½è¡¨ç¤ºä¸ºæ•´æ•°çš„å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šæç¤ºé”™è¯¯ã€‚å½“è¦æ“ä½œçš„<code>key</code>ä¸å­˜åœ¨æ—¶ä¼šé»˜è®¤<code>value</code>ä¸º0ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡é€’å¢åçš„ç»“æœæ˜¯1ã€‚<a href="https://redis.io/commands/incr" target="_blank" rel="noopener">ã€æ–‡æ¡£ã€‘</a></p><h6 id="ç¤ºä¾‹ï¼š-1"><a href="#ç¤ºä¾‹ï¼š-1" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h6><pre class=" language-bash"><code class="language-bash">redis<span class="token operator">></span> SET myint 520OKredis<span class="token operator">></span> INCR myint<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 521redis<span class="token operator">></span> GET myint<span class="token string">"521"</span></code></pre><h5 id="INCRBY-key-increment-å¢åŠ æŒ‡å®šçš„æ•´æ•°"><a href="#INCRBY-key-increment-å¢åŠ æŒ‡å®šçš„æ•´æ•°" class="headerlink" title="INCRBY key increment (å¢åŠ æŒ‡å®šçš„æ•´æ•°)"></a>INCRBY key increment (å¢åŠ æŒ‡å®šçš„æ•´æ•°)</h5><p>é™¤äº†èƒ½æŒ‡å®šé€’å¢çš„numberå¤§å°ï¼Œå°±è·ŸINCRå‘½ä»¤ä¸€æ ·äº†ã€‚<a href="https://redis.io/commands/incrby" target="_blank" rel="noopener">ã€æ–‡æ¡£ã€‘</a></p><p>æ‰€ä»¥ INCR key è·Ÿ INCRBY key 1 æ˜¯ä¸€æ ·çš„</p><h6 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h6><pre class=" language-bash"><code class="language-bash">redis<span class="token operator">></span> INCRBY myint1 1<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1redis<span class="token operator">></span> GET myint1<span class="token string">"1"</span></code></pre><h5 id="DECR-é€’å‡æ•°å­—"><a href="#DECR-é€’å‡æ•°å­—" class="headerlink" title="DECR é€’å‡æ•°å­—"></a>DECR é€’å‡æ•°å­—</h5><p>å°†<code>key</code>ä¸­å­˜å‚¨çš„æ•°å­—å‡1ã€‚å¦‚æœ<code>key</code>åŒ…å«é”™è¯¯ç±»å‹ï¼ˆ<code>string</code>ä»¥å¤–çš„ç±»å‹ï¼‰çš„<code>value</code>æˆ–åŒ…å«ä¸èƒ½è¡¨ç¤ºä¸ºæ•´æ•°çš„å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šæç¤ºé”™è¯¯ã€‚å½“è¦æ“ä½œçš„<code>key</code>ä¸å­˜åœ¨æ—¶ä¼šé»˜è®¤<code>value</code>ä¸º0ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡é€’å¢åçš„ç»“æœæ˜¯-1ã€‚<a href="https://redis.io/commands/decr" target="_blank" rel="noopener">ã€æ–‡æ¡£ã€‘</a></p><h6 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h6><pre class=" language-bash"><code class="language-bash">redis<span class="token operator">></span> SET number1 10<span class="token string">"OK"</span>redis<span class="token operator">></span> DECR number1<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 9redis<span class="token operator">></span> DECR number2<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> -1</code></pre><h5 id="APPEND-key-value-å‘å°¾éƒ¨è¿½åŠ å­—ç¬¦ä¸²"><a href="#APPEND-key-value-å‘å°¾éƒ¨è¿½åŠ å­—ç¬¦ä¸²" class="headerlink" title="APPEND key value å‘å°¾éƒ¨è¿½åŠ å­—ç¬¦ä¸²"></a>APPEND key value å‘å°¾éƒ¨è¿½åŠ å­—ç¬¦ä¸²</h5><p>å¦‚æœ<code>key</code>å·²å­˜åœ¨ä¸”ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™æ­¤å‘½ä»¤ä¼šåœ¨å­—ç¬¦ä¸²æœ«å°¾é™„åŠ <code>value</code>ã€‚å¦‚æœ<code>key</code>ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå®ƒå¹¶å°†å…¶è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œå› æ­¤åœ¨è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹<code>APPEND</code>å°†ç±»ä¼¼äº<code>SET</code>ã€‚<a href="https://redis.io/commands/append" target="_blank" rel="noopener">ã€æ–‡æ¡£ã€‘</a></p><h6 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h6><pre class=" language-bash"><code class="language-bash">redis<span class="token operator">></span> APPEND s1 abc<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 3redis<span class="token operator">></span> GET s1<span class="token string">"abc"</span>redis<span class="token operator">></span> APPEND s1 def<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 6redis<span class="token operator">></span> GET s1<span class="token string">"abcdef"</span></code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gradleé…ç½®init.gradleè§£å†³ä¸‹è½½é€Ÿåº¦æ…¢é—®é¢˜</title>
      <link href="/2018/04/07/gradle-config-init-gradle/"/>
      <url>/2018/04/07/gradle-config-init-gradle/</url>
      
        <content type="html"><![CDATA[<h3 id="é…ç½®é˜¿é‡Œäº‘é•œåƒ"><a href="#é…ç½®é˜¿é‡Œäº‘é•œåƒ" class="headerlink" title="é…ç½®é˜¿é‡Œäº‘é•œåƒ"></a>é…ç½®é˜¿é‡Œäº‘é•œåƒ</h3><p>ä»¥ä¸‹ä¸¤ç§é…ç½®æ–¹å¼äºŒé€‰ä¸€<br>ğŸ˜Š<br>:smile:</p><h4 id="å…¨å±€é…ç½®"><a href="#å…¨å±€é…ç½®" class="headerlink" title="å…¨å±€é…ç½®"></a>å…¨å±€é…ç½®</h4><p>æ–°å»ºé…ç½®æ–‡ä»¶ USER_HOME/.gradle/</p><pre class=" language-bash"><code class="language-bash">$ vim ~/.gradle/init.gradle</code></pre><pre class=" language-java"><code class="language-java">allprojects<span class="token punctuation">{</span>    repositories <span class="token punctuation">{</span>        def ALIYUN_REPOSITORY_URL <span class="token operator">=</span> <span class="token string">'http://maven.aliyun.com/nexus/content/groups/public'</span>        def ALIYUN_JCENTER_URL <span class="token operator">=</span> <span class="token string">'http://maven.aliyun.com/nexus/content/repositories/jcenter'</span>        all <span class="token punctuation">{</span> ArtifactRepository repo <span class="token operator">-</span><span class="token operator">></span>            <span class="token keyword">if</span><span class="token punctuation">(</span>repo <span class="token keyword">instanceof</span> <span class="token class-name">MavenArtifactRepository</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                def url <span class="token operator">=</span> repo<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://repo1.maven.org/maven2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    project<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>lifecycle <span class="token string">"Repository ${repo.url} replaced by $ALIYUN_REPOSITORY_URL."</span>                    remove repo                <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://jcenter.bintray.com/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    project<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>lifecycle <span class="token string">"Repository ${repo.url} replaced by $ALIYUN_JCENTER_URL."</span>                    remove repo                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        maven <span class="token punctuation">{</span>                url ALIYUN_REPOSITORY_URL            url ALIYUN_JCENTER_URL        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="é¡¹ç›®é…ç½®"><a href="#é¡¹ç›®é…ç½®" class="headerlink" title="é¡¹ç›®é…ç½®"></a>é¡¹ç›®é…ç½®</h4><p>é¡¹ç›®æ‰€å±çš„ build.gradle æ–‡ä»¶</p><pre class=" language-java"><code class="language-java">buildscript <span class="token punctuation">{</span>    repositories <span class="token punctuation">{</span>        maven <span class="token punctuation">{</span> url <span class="token string">'http://maven.aliyun.com/nexus/content/groups/public/'</span> <span class="token punctuation">}</span>                maven<span class="token punctuation">{</span> url <span class="token string">'http://maven.aliyun.com/nexus/content/repositories/jcenter'</span><span class="token punctuation">}</span>    <span class="token punctuation">}</span>    dependencies <span class="token punctuation">{</span>        classpath <span class="token string">'com.android.tools.build:gradle:2.2.3'</span>    <span class="token punctuation">}</span>        <span class="token punctuation">}</span>allprojects <span class="token punctuation">{</span>    repositories <span class="token punctuation">{</span>        maven <span class="token punctuation">{</span> url <span class="token string">'http://maven.aliyun.com/nexus/content/groups/public/'</span> <span class="token punctuation">}</span>        maven<span class="token punctuation">{</span> url <span class="token string">'http://maven.aliyun.com/nexus/content/repositories/jcenter'</span><span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gradle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹çš„ç¼“å­˜æœºåˆ¶åŠæ¸…ç†buffer/cache/swapçš„æ–¹æ³•æ¢³ç†ã€è½¬ã€‘</title>
      <link href="/2018/03/16/linux-cache-cleaning/"/>
      <url>/2018/03/16/linux-cache-cleaning/</url>
      
        <content type="html"><![CDATA[<h3 id="Linuxä¸‹çš„ç¼“å­˜æœºåˆ¶åŠæ¸…ç†buffer-cache-swapçš„æ–¹æ³•æ¢³ç†ã€è½¬ã€‘"><a href="#Linuxä¸‹çš„ç¼“å­˜æœºåˆ¶åŠæ¸…ç†buffer-cache-swapçš„æ–¹æ³•æ¢³ç†ã€è½¬ã€‘" class="headerlink" title="Linuxä¸‹çš„ç¼“å­˜æœºåˆ¶åŠæ¸…ç†buffer/cache/swapçš„æ–¹æ³•æ¢³ç†ã€è½¬ã€‘"></a>Linuxä¸‹çš„ç¼“å­˜æœºåˆ¶åŠæ¸…ç†buffer/cache/swapçš„æ–¹æ³•æ¢³ç†ã€è½¬ã€‘</h3><ul><li>åŸæ–‡ï¼š<a href="https://www.cnblogs.com/kevingrace/p/5991604.html" target="_blank" rel="noopener">linuxä¸‹çš„ç¼“å­˜æœºåˆ¶åŠæ¸…ç†buffer/cache/swapçš„æ–¹æ³•æ¢³ç†</a></li></ul><h4 id="1-ç¼“å­˜æœºåˆ¶ä»‹ç»"><a href="#1-ç¼“å­˜æœºåˆ¶ä»‹ç»" class="headerlink" title="1.ç¼“å­˜æœºåˆ¶ä»‹ç»"></a>1.ç¼“å­˜æœºåˆ¶ä»‹ç»</h4><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œä¸ºäº†æé«˜æ–‡ä»¶ç³»ç»Ÿæ€§èƒ½ï¼Œå†…æ ¸åˆ©ç”¨ä¸€éƒ¨åˆ†ç‰©ç†å†…å­˜åˆ†é…å‡ºç¼“å†²åŒºï¼Œç”¨äºç¼“å­˜ç³»ç»Ÿæ“ä½œå’Œæ•°æ®æ–‡ä»¶ï¼Œå½“å†…æ ¸æ”¶åˆ°è¯»å†™çš„è¯·æ±‚æ—¶ï¼Œå†…æ ¸å…ˆå»ç¼“å­˜åŒºæ‰¾æ˜¯å¦æœ‰è¯·æ±‚çš„æ•°æ®ï¼Œæœ‰å°±ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡æœ‰åˆ™é€šè¿‡é©±åŠ¨ç¨‹åºç›´æ¥æ“ä½œç£ç›˜ã€‚<br>ç¼“å­˜æœºåˆ¶ä¼˜ç‚¹ï¼šå‡å°‘ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ï¼Œé™ä½CPUä¸Šä¸‹æ–‡åˆ‡æ¢å’Œç£ç›˜è®¿é—®é¢‘ç‡ã€‚<br>CPUä¸Šä¸‹æ–‡åˆ‡æ¢ï¼šCPUç»™æ¯ä¸ªè¿›ç¨‹ä¸€å®šçš„æœåŠ¡æ—¶é—´ï¼Œå½“æ—¶é—´ç‰‡ç”¨å®Œåï¼Œå†…æ ¸ä»æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ä¸­æ”¶å›å¤„ç†å™¨ï¼ŒåŒæ—¶æŠŠè¿›ç¨‹å½“å‰è¿è¡ŒçŠ¶æ€ä¿å­˜ä¸‹æ¥ï¼Œç„¶ååŠ è½½ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚å®è´¨ä¸Šå°±æ˜¯è¢«ç»ˆæ­¢è¿è¡Œè¿›ç¨‹ä¸å¾…è¿è¡Œè¿›ç¨‹çš„è¿›ç¨‹åˆ‡æ¢ã€‚</p><h4 id="2-æŸ¥çœ‹ç¼“å­˜åŒºåŠå†…å­˜ä½¿ç”¨æƒ…å†µ"><a href="#2-æŸ¥çœ‹ç¼“å­˜åŒºåŠå†…å­˜ä½¿ç”¨æƒ…å†µ" class="headerlink" title="2.æŸ¥çœ‹ç¼“å­˜åŒºåŠå†…å­˜ä½¿ç”¨æƒ…å†µ"></a>2.æŸ¥çœ‹ç¼“å­˜åŒºåŠå†…å­˜ä½¿ç”¨æƒ…å†µ</h4><pre class=" language-bash"><code class="language-bash">joey@Joey:~$ <span class="token function">top</span><span class="token function">top</span> - 16:59:44 up  7:55,  1 user,  load average: 0.60, 0.73, 0.87Tasks: 225 total,   1 running, 224 sleeping,   0 stopped,   0 zombie%Cpu<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:  1.8 us,  0.5 sy,  0.0 ni, 97.6 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 stKiB Mem <span class="token keyword">:</span>  8069972 total,  5060444 free,  1776368 used,  1233160 buff/cacheKiB Swap:  8000508 total,  8000508 free,        0 used.  5590520 avail Mem  </code></pre><p>ç©ºé—²å†…å­˜=free + buffers + cachedï¼›<br>å·²ç”¨å†…å­˜=total - ç©ºé—²å†…å­˜ï¼›</p><h4 id="3-ç¼“å­˜åŒºåˆ†bufferså’ŒcachedåŒºåˆ«"><a href="#3-ç¼“å­˜åŒºåˆ†bufferså’ŒcachedåŒºåˆ«" class="headerlink" title="3.ç¼“å­˜åŒºåˆ†bufferså’ŒcachedåŒºåˆ«"></a>3.ç¼“å­˜åŒºåˆ†bufferså’ŒcachedåŒºåˆ«</h4><p>å†…æ ¸åœ¨ä¿è¯ç³»ç»Ÿèƒ½æ­£å¸¸ä½¿ç”¨ç‰©ç†å†…å­˜å’Œæ•°æ®é‡è¯»å†™æƒ…å†µä¸‹æ¥åˆ†é…ç¼“å†²åŒºå¤§å°ã€‚<br>buffersç”¨æ¥ç¼“å­˜metadataåŠpagesï¼Œå¯ä»¥ç†è§£ä¸ºç³»ç»Ÿç¼“å­˜ï¼Œä¾‹å¦‚ï¼Œviæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ã€‚<br>cachedæ˜¯ç”¨æ¥ç»™æ–‡ä»¶åšç¼“å­˜ï¼Œå¯ä»¥ç†è§£ä¸ºæ•°æ®å—ç¼“å­˜ï¼Œä¾‹å¦‚ï¼Œdd if=/dev/zero of=/tmp/test count=1 bs=1G æµ‹è¯•å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šè¢«ç¼“å­˜åˆ°ç¼“å†²åŒºä¸­ï¼Œå½“ä¸‹ä¸€æ¬¡å†æ‰§è¡Œè¿™ä¸ªæµ‹è¯•å‘½ä»¤æ—¶ï¼Œå†™å…¥é€Ÿåº¦ä¼šæ˜æ˜¾å¾ˆå¿«ã€‚</p><h4 id="4-Swapç”¨é€”"><a href="#4-Swapç”¨é€”" class="headerlink" title="4.Swapç”¨é€”"></a>4.Swapç”¨é€”</h4><p>Swapæ„æ€æ˜¯äº¤æ¢åˆ†åŒºï¼Œé€šå¸¸æˆ‘ä»¬è¯´çš„è™šæ‹Ÿå†…å­˜ï¼Œæ˜¯ä»ç¡¬ç›˜ä¸­åˆ’åˆ†å‡ºçš„ä¸€ä¸ªåˆ†åŒºã€‚å½“ç‰©ç†å†…å­˜ä¸å¤Ÿç”¨çš„æ—¶å€™ï¼Œå†…æ ¸å°±ä¼šé‡Šæ”¾ç¼“å­˜åŒºï¼ˆbuffers/cacheï¼‰é‡Œä¸€äº›é•¿æ—¶é—´ä¸ç”¨çš„ç¨‹åºï¼Œç„¶åå°†è¿™äº›ç¨‹åºä¸´æ—¶æ”¾åˆ°Swapä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœç‰©ç†å†…å­˜å’Œç¼“å­˜åŒºå†…å­˜ä¸å¤Ÿç”¨çš„æ—¶å€™ï¼Œæ‰ä¼šç”¨åˆ°Swapã€‚<br>swapæ¸…ç†ï¼š<br>swapoff -a &amp;&amp; swapon -a<br>æ³¨æ„ï¼šè¿™æ ·æ¸…ç†æœ‰ä¸ªå‰ææ¡ä»¶ï¼Œç©ºé—²çš„å†…å­˜å¿…é¡»æ¯”å·²ç»ä½¿ç”¨çš„swapç©ºé—´å¤§</p><h4 id="5-é‡Šæ”¾ç¼“å­˜åŒºå†…å­˜çš„æ–¹æ³•"><a href="#5-é‡Šæ”¾ç¼“å­˜åŒºå†…å­˜çš„æ–¹æ³•" class="headerlink" title="5.é‡Šæ”¾ç¼“å­˜åŒºå†…å­˜çš„æ–¹æ³•"></a>5.é‡Šæ”¾ç¼“å­˜åŒºå†…å­˜çš„æ–¹æ³•</h4><ol><li><p>æ¸…ç†pagecacheï¼ˆé¡µé¢ç¼“å­˜ï¼‰</p><pre class=" language-bash"><code class="language-bash"><span class="token keyword">echo</span> 1 <span class="token operator">></span> /proc/sys/vm/drop_caches     æˆ–è€… <span class="token comment" spellcheck="true"># sysctl -w vm.drop_caches=1</span></code></pre></li><li><p>æ¸…ç†dentriesï¼ˆç›®å½•ç¼“å­˜ï¼‰å’Œinodes</p><pre class=" language-bash"><code class="language-bash"><span class="token keyword">echo</span> 2 <span class="token operator">></span> /proc/sys/vm/drop_caches     æˆ–è€… <span class="token comment" spellcheck="true"># sysctl -w vm.drop_caches=2</span></code></pre></li><li><p>æ¸…ç†pagecacheã€dentrieså’Œinodes</p><pre class=" language-bash"><code class="language-bash"><span class="token keyword">echo</span> 3 <span class="token operator">></span> /proc/sys/vm/drop_caches     æˆ–è€… <span class="token comment" spellcheck="true"># sysctl -w vm.drop_caches=3</span></code></pre></li></ol><p>ä¸Šé¢ä¸‰ç§æ–¹å¼éƒ½æ˜¯ä¸´æ—¶é‡Šæ”¾ç¼“å­˜çš„æ–¹æ³•ï¼Œè¦æƒ³æ°¸ä¹…é‡Šæ”¾ç¼“å­˜ï¼Œéœ€è¦åœ¨/etc/sysctl.confæ–‡ä»¶ä¸­é…ç½®ï¼švm.drop_caches=1/2/3ï¼Œç„¶åsysctl -pç”Ÿæ•ˆå³å¯ï¼</p><p>   å¦å¤–ï¼Œå¯ä»¥ä½¿ç”¨syncå‘½ä»¤æ¥æ¸…ç†æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ï¼Œè¿˜ä¼šæ¸…ç†åƒµå°¸(zombie)å¯¹è±¡å’Œå®ƒä»¬å ç”¨çš„å†…å­˜</p><p>â€”â€”â€”â€”â€”â€”â€“å‹æƒ…æç¤ºä¸€ä¸‹â€”â€”â€”â€”â€”â€”â€”-<br>ä¸Šé¢æ“ä½œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½ä¸ä¼šå¯¹ç³»ç»Ÿé€ æˆä¼¤å®³ï¼Œåªä¼šæœ‰åŠ©äºé‡Šæ”¾ä¸ç”¨çš„å†…å­˜ã€‚<br>ä½†æ˜¯å¦‚æœåœ¨æ‰§è¡Œè¿™äº›æ“ä½œæ—¶æ­£åœ¨å†™æ•°æ®ï¼Œé‚£ä¹ˆå®é™…ä¸Šåœ¨æ•°æ®åˆ°è¾¾ç£ç›˜ä¹‹å‰å°±å°†å®ƒä»æ–‡ä»¶ç¼“å­˜ä¸­æ¸…é™¤æ‰äº†ï¼Œè¿™å¯èƒ½ä¼šé€ æˆå¾ˆä¸å¥½çš„å½±å“ã€‚é‚£ä¹ˆå¦‚æœé¿å…è¿™ç§äº‹æƒ…å‘ç”Ÿå‘¢ï¼Ÿ<br>å› æ­¤ï¼Œè¿™é‡Œä¸å¾—ä¸æä¸€ä¸‹/proc/sys/vm/vfs_cache_pressureè¿™ä¸ªæ–‡ä»¶ï¼Œå‘Šè¯‰å†…æ ¸ï¼Œå½“æ¸…ç†inoe/dentryç¼“å­˜æ—¶åº”è¯¥ç”¨ä»€ä¹ˆæ ·çš„ä¼˜å…ˆçº§ã€‚</p><blockquote><p>vfs_cache_pressure=100    è¿™ä¸ªæ˜¯é»˜è®¤å€¼ï¼Œå†…æ ¸ä¼šå°è¯•é‡æ–°å£°æ˜<br>dentrieså’Œinodesï¼Œå¹¶é‡‡ç”¨ä¸€ç§ç›¸å¯¹äºé¡µé¢ç¼“å­˜å’Œäº¤æ¢ç¼“å­˜æ¯”è¾ƒâ€åˆç†â€çš„æ¯”ä¾‹ã€‚<br>å‡å°‘vfs_cache_pressureçš„å€¼ï¼Œä¼šå¯¼è‡´å†…æ ¸å€¾å‘äºä¿ç•™dentryå’Œinodeç¼“å­˜ã€‚<br>å¢åŠ vfs_cache_pressureçš„å€¼ï¼Œï¼ˆå³è¶…è¿‡100æ—¶ï¼‰ï¼Œåˆ™ä¼šå¯¼è‡´å†…æ ¸å€¾å‘äºé‡æ–°å£°æ˜dentrieså’Œinodes<br>æ€»ä¹‹ï¼Œvfs_cache_pressureçš„å€¼ï¼š<br>å°äº100çš„å€¼ä¸ä¼šå¯¼è‡´ç¼“å­˜çš„å¤§é‡å‡å°‘<br>è¶…è¿‡100çš„å€¼åˆ™ä¼šå‘Šè¯‰å†…æ ¸ä½ å¸Œæœ›ä»¥é«˜ä¼˜å…ˆçº§æ¥æ¸…ç†ç¼“å­˜ã€‚<br>å…¶å®æ— è®ºvfs_cache_pressureçš„å€¼é‡‡ç”¨ä»€ä¹ˆå€¼ï¼Œå†…æ ¸æ¸…ç†ç¼“å­˜çš„é€Ÿåº¦éƒ½æ˜¯æ¯”è¾ƒä½çš„ã€‚<br>å¦‚æœå°†æ­¤å€¼è®¾ç½®ä¸º10000ï¼Œç³»ç»Ÿå°†ä¼šå°†ç¼“å­˜å‡å°‘åˆ°ä¸€ä¸ªåˆç†çš„æ°´å¹³ã€‚</p></blockquote><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
